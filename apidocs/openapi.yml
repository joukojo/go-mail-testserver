openapi: 3.0.1

info:
  title: Mail Testserver API
  description: API documentation for Mail Testserver API
  version: 1.0.0

servers:
  - url: http://localhost:8025
    description: Local Mail Testserver

  

paths:
  /api/v1/messages:
    get:
      summary: Retrieve all messages
      responses:
        '200':
          description: A list of messages
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Message'

  /api/v1/messages/{id}:
    get:
      summary: Retrieve a specific message by ID
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
          description: The ID of the message to retrieve
      responses:
        '200':
          description: A single message
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Message'
        '404':
          description: Message not found
  /api/v1/messages/{id}/raw:
    get:
      summary: Retrieve a specific message by ID in raw format
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
          description: The ID of the message to retrieve
      responses:
        '200':
          description: A single message in raw format
          content:
            text/plain:
              schema:
                type: string
        '404':
          description: Message not found

components:
  schemas:
    Message:
      type: object
      properties:
        id:
          type: string
          description: Unique identifier for the message
        from:
          type: string
          description: Sender email address
        to:
          type: array
          items:
            type: string
          description: Recipient email addresses
        subject:
          type: string
          description: Email subject
        body:
          type: string
          description: Email body content
        createdAt:
          type: string
          format: date-time
          description: Timestamp when the message was received